(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-baace9e8"],{"616f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-view",[a("a-card",{attrs:{bordered:!1,bodyStyle:{padding:"16px"}}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"入库人员："}},[a("a-input",{model:{value:t.queryParam.importPeople,callback:function(e){t.$set(t.queryParam,"importPeople",e)},expression:"queryParam.importPeople"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"入库日期："}},[a("div",[a("a-date-picker",{on:{change:t.onChange},model:{value:t.queryParam.datetime,callback:function(e){t.$set(t.queryParam,"datetime",e)},expression:"queryParam.datetime"}}),a("br")],1)])],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleQuery()}}},[t._v("查询")]),a("a-button",{on:{click:function(e){return t.handleResetParam()}}},[t._v("重置")]),a("a-button",{on:{click:function(e){return t.printOrder()}}},[t._v("打印")])],1)],1)])],1)],1)],1),a("a-table",{ref:"print",attrs:{bordered:"",columns:t.columns,"data-source":t.ordersList,pagination:!1,loading:t.postsLoading}}),a("div",{staticClass:"page-wrapper"},[t.pagination.open?a("a-pagination",{staticClass:"pagination",attrs:{"page-size-options":t.pageSizeOptions,total:t.total,"show-size-changer":"","page-size":t.pageSize,current:t.current,defaultPageSize:20,showSizeChanger:"",showLessItems:""},on:{showSizeChange:t.onShowSizeChange,change:t.handlePaginationChange},scopedSlots:t._u([{key:"buildOptionText",fn:function(e){return[e.value!==t.total?a("span",[t._v(t._s(e.value)+"条/页")]):t._e(),e.value===t.total?a("span",[t._v("全部")]):t._e()]}}],null,!1,3668733497),model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}):t._e()],1)],1)],1)},r=[],o=a("c8c3"),i=a("9efd"),s=(a("caf6"),"/api/admin/instock"),c={getLatest:function(t,e){return Object(i["a"])({url:"".concat(s,"/latest"),params:{top:e,start:t},method:"get"})},countInStock:function(){return Object(i["a"])({url:"".concat(s,"/countOrder"),method:"post"})},queryOrder:function(t,e){return Object(i["a"])({url:"".concat(s,"/queryOrder"),method:"post",data:{importPeople:t,createTime:e},params:{importPeople:t,createTime:e}})}},u=c,l=a("9158"),d=[{title:"编号",dataIndex:"deviceNum",key:"deviceNum"},{dataIndex:"title",key:"title",title:"名称",slots:{title:"title"},scopedSlots:{customRender:"title"}},{title:"规格",dataIndex:"norms",key:"norms"},{title:"价格",dataIndex:"price",key:"price"},{title:"数量",dataIndex:"stock",key:"stock"},{title:"时间",dataIndex:"createTime",key:"createTime"},{title:"类型",key:"deviceType",dataIndex:"deviceType"},{title:"分类",key:"categories",dataIndex:"categories"},{title:"入库人",key:"importPeople",dataIndex:"importPeople",scopedSlots:{customRender:"importPeople"}}],p={components:{PageView:o["a"]},data:function(){return{columns:d,ordersList:[],queryParam:{username:null,state:null,datetime:null},pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,total:null,props:{value:10},pagination:{page:null,size:null,open:!0},postsLoading:!1}},mounted:function(){var t=this;this.getLatestOrder(),u.countOrder().then((function(e){t.total=e.data.data,console.log(e.data),t.pageSizeOptions.push(e.data.data)}))},methods:{printOrder:function(){this.$print(this.$refs.print)},getLatestOrder:function(){var t=this;u.getLatest().then((function(e){t.ordersList=e.data.data;var a=0;for(a;a<t.ordersList.length;a++)t.ordersList[a].createTime=Object(l["a"])(t.ordersList[a].createTime)}))},handlePaginationChange:function(t,e){var a=this;this.$log.debug("Current: ".concat(t,", PageSize: ").concat(e)),this.pagination.page=t,this.pagination.size=e,this.postsLoading=!0,u.getLatest((t-1)*e,e).then((function(t){a.ordersList=t.data.data;var e=0;for(e;e<a.ordersList.length;e++)a.ordersList[e].createTime=Object(l["a"])(a.ordersList[e].createTime);a.postsLoading=!1}))},handleQuery:function(){var t=this;this.postsLoading=!1,null==this.queryParam.importPeople&&null==this.queryParam.datetime?this.getLatestOrder():u.queryOrder(this.queryParam.importPeople,this.queryParam.datetime).then((function(e){t.ordersList=e.data.data;var a=0;for(a;a<t.ordersList.length;a++)t.ordersList[a].createTime=Object(l["a"])(t.ordersList[a].createTime);t.postsLoading=!1}))},onShowSizeChange:function(t,e){this.pageSize=e,this.handlePaginationChange(this.current,this.pageSize)},onChange:function(t,e){this.queryParam.datetime=e,console.log(this.queryParam.datetime,e)},handleResetParam:function(){this.queryParam.datetime=null,this.queryParam.username=null,this.queryParam.state=-1}}},m=p,h=a("bdd7"),g=Object(h["a"])(m,n,r,!1,null,null,null);e["default"]=g.exports},caf6:function(t,e,a){"use strict";var n=a("9efd"),r="/api/admin/posts",o={listLatest:function(t){return Object(n["a"])({url:"".concat(r,"/latest"),params:{top:t},method:"get"})},query:function(t){return Object(n["a"])({url:r,params:t,method:"get"})},get:function(t){return Object(n["a"])({url:"".concat(r,"/").concat(t),method:"get"})},inStock:function(t,e){return Object(n["a"])({url:r+"/inStock",method:"post",data:e,params:{categories:t}})},inStockAll:function(t){return Object(n["a"])({url:r+"/inStockAll",method:"post",data:t})},create:function(t,e){return Object(n["a"])({url:r,method:"post",data:t,params:{autoSave:e}})},update:function(t,e,a){return Object(n["a"])({url:"".concat(r,"/").concat(t),method:"put",data:e,params:{autoSave:a}})},updateDraft:function(t,e){return Object(n["a"])({url:"".concat(r,"/").concat(t,"/status/draft/content"),method:"put",data:{content:e}})},updateStatus:function(t,e){return Object(n["a"])({url:"".concat(r,"/").concat(t,"/status/").concat(e),method:"put"})},updateStatusInBatch:function(t,e){return Object(n["a"])({url:"".concat(r,"/status/").concat(e),data:t,method:"put"})},delete:function(t){return Object(n["a"])({url:"".concat(r,"/").concat(t),method:"delete"})},deleteInBatch:function(t){return Object(n["a"])({url:"".concat(r),data:t,method:"delete"})},preview:function(t){return Object(n["a"])({url:"".concat(r,"/preview/").concat(t),method:"get"})},postStatus:{PUBLISHED:{value:"PUBLISHED",color:"green",status:"success",text:"已发布"},DRAFT:{value:"DRAFT",color:"yellow",status:"warning",text:"草稿"},RECYCLE:{value:"RECYCLE",color:"red",status:"error",text:"回收站"},INTIMATE:{value:"INTIMATE",color:"blue",status:"success",text:"私密"}},permalinkType:{DEFAULT:{type:"DEFAULT",text:"默认"},YEAR:{type:"YEAR",text:"年份型"},DATE:{type:"DATE",text:"年月型"},DAY:{type:"DAY",text:"年月日型"},ID:{type:"ID",text:"ID 型"},ID_SLUG:{type:"ID_SLUG",text:"ID 别名型"}}};e["a"]=o}}]);